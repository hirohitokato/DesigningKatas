---
marp: true
theme: katas
---
<!-- 
size: 16:9
paginate: true
-->
<!-- header: 勉強会# ― エンジニアとしての解像度を高めるための勉強会-->

# 継承と委譲の使い分け

_Inheritance vs delegation_

---

## 継承とは、委譲とは

* **継承**:
    * 既存のクラス(親クラス)をもとに新しい別のクラス(子クラス)を作り、親の責務を受け継ぐこと
* **委譲**:
    * あるクラスの振る舞いを別のクラスに委ねること

---

「is-a」の関係であれば継承、「has-a/use-a」の場合は委譲（がベター）。
 
> * 子にとって親は単なるツールである場合は委譲を使うのが良い。継承してしまうと子が複数の責務を負うことになり、そのことによる不都合が生じる。
> * 逆に、子が親と同じ責務を持つべき場合には継承を使う。委譲を使うと、子が親と同じ能力を持っていないことによる不都合が生じる。

期待される役割が同じ場合は継承、違う場合は委譲を使うとしっくりくることが多い

>>> ブログ記事「[継承と委譲の使い分けと、インターフェースの重要性について](https://ikenox.info/blog/inheritance-delegation-interface/)」から引用
 

---

## 判断のきっかけ

* **設計時**：期待される役割について考える / 「同じ処理を使うから」はそういう役割を持つクラスを作って委譲する
* **違反の臭い**：使わないメソッドが多くある。親クラスに処理がどんどん集まっている
* **リファクタリング**：親クラスを薄くする。クラス(実装)の継承ではなく、インターフェイスの継承を使う
 
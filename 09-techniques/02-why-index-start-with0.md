---
marp: true
math: mathjax
theme: katas
---
<!-- 
size: 16:9
paginate: true
-->
<!-- header: 勉強会# ― エンジニアとしての解像度を高めるための勉強会-->

# なぜ配列の要素番号はゼロから始まるのか
_Why do array indexes start with 0 in many programming languages?_

---

## 歴史

けっこう行ったり来たりしている

1. FORTRAN(1954-)は配列の要素番号は1から始まっていた
2. ALGOL(1958-)は0
3. COBOL(1959-), BASIC(1964-)は1
4. C言語(1972-)では0
5. MATLAB(1970年代後半)は1

---

## 「ゼロ」スタートのメリット

* アセンブリ言語との一貫性
* C言語との親和性
* アドレッシングの一貫性
* 数学的な利便性

<!-- 
アセンブリ言語の影響: 多くのプログラミング言語は、アセンブリ言語や低水準の機械語に基づいています。これらの言語では、メモリ上のアドレスはゼロから始まり、0番地が最初の要素を指すことが一般的でした。高水準言語の設計者たちは、このアセンブリ言語の概念を引き継ぎ、要素番号をゼロから始めることを採用しました。

C言語の影響: C言語は、多くの現代のプログラミング言語に影響を与えた重要な言語の一つです。C言語では、配列の添字がゼロから始まります。この言語が広く普及したことにより、この慣習が他の言語にも受け継がれました。

* アドレッシングの一貫性: メモリ上のアドレッシングがゼロから始まることにより、配列の要素番号も同じゼロベースの添字を採用することで、アドレッシングの一貫性が確保されます。これは、プログラミングにおいて予測可能性を高め、バグの発生を防ぐのに役立ちます。

* 数学的な便宜: 数学的な文脈においても、0を基点とすることが一般的であり、これがプログラミングにおいても受け継がれた一因と言えます。
-->

---

## C言語ではなぜゼロスタートか

配列はポインタのシンタックスシュガー。

```cpp
a[0] == *(a+0)
a[1] == *(a+1)
a[2] == *(a+2)
  ︙
```

aの指すアドレスから何要素ぶんズレた位置を指しているか。だから`a[-1], a[-4]`も仕様内

>>> Pythonの負値とは異なるので注意

---

## 「１」スタートのメリット

* 数学的一貫性
* 自然言語との整合性
* 初心者の理解しやすさ
* エラーチェック処理の改善

<!--
数学的一貫性: 数学の慣習に合わせて要素番号を1から始めることが、数学との整合性を高める一因となります。多くの数学的な文脈では、数列や集合などの要素番号が1から始まることが一般的です。

自然言語との整合性: 人間が自然言語で要素を数える際、通常は1から始めます。このため、要素番号を1から始めることで、プログラミングコードがより自然言語との整合性を持つことができます。

初心者の理解しやすさ: 初心者がプログラミングを学ぶ際、1から始まる要素番号は直感的であり、添字の操作が直感的になります。これは、プログラミング初心者にとって学習しやすい側面があります。

エラーチェックの改善: 要素番号が1から始まる場合、一部のプログラミングエラーが発生しにくくなります。例えば、要素番号が1から始まる場合、0を無効なインデックスとして扱うことができ、配列外アクセスのエラーを防ぐことができます。
-->

---

## ウミガメのスープクイズ

> **西暦はなぜ１年から始まっているのか**

<!-- 紀元前１年の次は西暦１年で、ゼロはない（天文学などでは紀元前１年をゼロ年として扱うが、それは最近になってからの話） -->

<!-- インドで数としての「0」の概念が確立されたのは、はっきりしていないが5世紀頃(401-500年)。 -->

<!-- それ以前は空白で表したり、あるいは別の記号で表すなど数字としては扱っていなかった。古代ギリシャ・バビロニア文明から今に続く時計も、12時の次は0時ではなく1時 -->
---
marp: true
math: mathjax
theme: katas
---
<!-- 
size: 16:9
paginate: true
-->
<!-- header: 勉強会# ― エンジニアとしての解像度を高めるための勉強会-->

# なぜ配列の要素番号はゼロから始まるのか
_Why do array indexes start with 0 in many programming languages?_

```py
a = [0, 2, 4, 6, 8, 10]
a[2] # => 4
```

---

## 歴史

けっこう行ったり来たりしてきた

* 1954年 FORTRAN : 1から始まる
* 1958年 ALGOL : 0から始まる
* 1959年 COBOL : 1から始まる
* 1964年 BASIC : 1から始まる
* 1972年 C言語 : 0から始まる …以降は0が主流
* (1970年代後半 MATLAB : 1から始まる)

---

## 「ゼロ」スタートのメリット

* アセンブリ言語との一貫性
* C言語との親和性
* アドレッシングの一貫性
* 数学的な利便性

<!-- 
アセンブリ言語の影響: 多くのプログラミング言語は、アセンブリ言語や低水準の機械語に基づいています。これらの言語では、メモリ上のアドレスはゼロから始まり、0番地が最初の要素を指すことが一般的でした。高水準言語の設計者たちは、このアセンブリ言語の概念を引き継ぎ、要素番号をゼロから始めることを採用しました。

C言語の影響: C言語は、多くの現代のプログラミング言語に影響を与えた重要な言語の一つです。C言語では、配列の添字がゼロから始まります。この言語が広く普及したことにより、この慣習が他の言語にも受け継がれました。

* アドレッシングの一貫性: メモリ上のアドレッシングがゼロから始まることにより、配列の要素番号も同じゼロベースの添字を採用することで、アドレッシングの一貫性が確保されます。これは、プログラミングにおいて予測可能性を高め、バグの発生を防ぐのに役立ちます。

* 数学的な便宜: 数学的な文脈においても、0を基点とすることが一般的であり、これがプログラミングにおいても受け継がれた一因と言えます。
-->

---

## C言語ではなぜゼロスタートか

配列はポインタのシンタックスシュガー。

```cpp
a[0] == *(a+0) // aの指すメモリーの位置から+0バイト
a[1] == *(a+1) // aの指すメモリーの位置から+1バイト
a[2] == *(a+2) // aの指すメモリーの位置から+2バイト
  ︙
a[-2] == *(a-2) // aの指すメモリーの位置から-2バイト
```

aの指すアドレスから何要素ぶんズレた位置を指しているかを表す
だから`a[-1], a[-4]`も仕様内

→ **C言語がメジャーになったので分かりやすさが優先されるように**

>>> Pythonの負値とは異なるので注意

---

## 「１」スタートのメリット

* 数学的一貫性
* 自然言語との整合性
* 初心者の理解しやすさ
* エラーチェック処理の改善

<!--
数学的一貫性: 数学の慣習に合わせて要素番号を1から始めることが、数学との整合性を高める一因となります。多くの数学的な文脈では、数列や集合などの要素番号が1から始まることが一般的です。

自然言語との整合性: 人間が自然言語で要素を数える際、通常は1から始めます。このため、要素番号を1から始めることで、プログラミングコードがより自然言語との整合性を持つことができます。

初心者の理解しやすさ: 初心者がプログラミングを学ぶ際、1から始まる要素番号は直感的であり、添字の操作が直感的になります。これは、プログラミング初心者にとって学習しやすい側面があります。

エラーチェックの改善: 要素番号が1から始まる場合、一部のプログラミングエラーが発生しにくくなります。例えば、要素番号が1から始まる場合、0を無効なインデックスとして扱うことができ、配列外アクセスのエラーを防ぐことができます。
-->

---

## ウミガメのスープクイズ

### **「西暦はなぜ１年から始めているのか」**

* 順番にバトンを渡すので質問をしてください
* 質問には「はい」「いいえ」の２つで答えます
* わかった人は手を挙げてください

>>> ウミガメのスープ：不可解な問題文の謎を「はい」と「いいえ」で答えられる質問だけで解き明かすゲームです

<!-- ウミガメのスープは、不可解な問題文の謎を「はい」と「いいえ」で答えられる質問だけで解き明かすというゲームです。知識の水平思考を鍛えることができると言われています。ただし今回のそれは強引な答えではなく、実際にちゃんとした理由があるものを選んでいます。 -->

<!-- 紀元前１年の次は西暦１年で、ゼロはない（天文学などでは紀元前１年をゼロ年として扱うが、それは最近になってからの話）。なぜか -->
<!-- A.D.またADとは「アンノドミニ (Anno Domini)」の略であり、「主（イエス・キリスト）の年に」という意味(BCはBefore Christ)。ただし19世紀以降においては、非キリスト教徒との関係から、ADの代わりにCommon Era（略：CE、「共通紀元」の意）へ、同時に紀元前（BC）の代わりに『Before Common Era（BCE）』に切り替える動きが広まっている -->

<!--
* インドで数としての「0」の概念が確立されたのは、はっきりしていないが5世紀頃(401-500年)。
* 西暦はローマの神学者ディオニュシウス・エクシグウスによって算出された。西暦525年(6世紀)のこと。
* なので0という数字が無いときに西暦が考えられた -->

<!-- 当時ローマで用いられていたディオクレティアヌス紀元に替えて、イエス・キリストの受肉（生誕年）の翌年を元年とする新たな紀元を提案した。これはディオクレティアヌスがキリスト教の迫害者であるため -->

<!-- 0という数字はフワーリズミー(780-850。イスラム科学の学者。アルゴリズムの語源になった人らしい)の著作により「アラビア数学」の「0」として西欧に広まっていった。 -->

<!-- それ以前は空白で表したり、あるいは別の記号で表すなど数字としては扱っていなかった。古代ギリシャ・バビロニア文明から今に続く時計も、12時の次は0時ではなく1時 -->
<!-- 天文学的紀年法（en:Astronomical year numbering）では紀元前1年を紀元0年として、-1,-2,…と負数にする。これは計算がしやすいのと、あと閏年の計算が紀元後と同じ４の倍数にできるというメリットもある -->

<!--  -->

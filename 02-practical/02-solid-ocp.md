---
marp: true
theme: katas
---
<!-- 
size: 16:9
paginate: true
-->
<!-- header: å‹‰å¼·ä¼š# â€• ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦ã®è§£åƒåº¦ã‚’é«˜ã‚ã‚‹ãŸã‚ã®å‹‰å¼·ä¼š-->

# SOLID #2 é–‹æ”¾é–‰é–ã®åŸå‰‡
_Open Closed Principle_

> ### ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æ§‹æˆè¦ç´ ã¯æ‹¡å¼µã«å¯¾ã—ã¦é–‹ã„ã¦ã„ã¦ã€<br>ä¿®æ­£ã«å¯¾ã—ã¦é–‰ã˜ã¦ã„ãªã‘ã‚Œã°ãªã‚‰ãªã„$^1$

>>> ãƒãƒ¼ãƒˆãƒ©ãƒ³ãƒ‰ãƒ»ãƒ¡ã‚¤ãƒ¤ãƒ¼ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘å…¥é–€ã€1988å¹´ ã‚¢ã‚¹ã‚­ãƒ¼åˆŠ

<!-- ä»Šå›ã¯OCPã€‚SOLIDã¨ã„ã†ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨­è¨ˆã™ã‚‹ã¨ãã«å¸¸ã«æ‰‹å…ƒã«ãŠã„ã¦ãŠããŸã„ï¼•å¤§åŸå‰‡ã®ã†ã¡ã€ä¿å®ˆãƒ»æ‹¡å¼µã—ã‚„ã™ã„æ§‹é€ ã®åˆ°é”ç‚¹ã‚’ç¤ºã—ãŸåŸå‰‡ã§ã™ã€‚ -->

---

## æ‹¡å¼µã«å¯¾ã—ã¦é–‹ã„ã¦ã€ä¿®æ­£ã«å¯¾ã—ã¦é–‰ã˜ã‚‹ï¼Ÿ ğŸ¤”

ã‚ã‹ã‚Šã‚„ã™ãè¨€ã„æ›ãˆã‚‹ã¨ã€æ—¢å­˜ã®å‡¦ç†ã‚’ä¿®æ­£ã›ãšã«å„è¦ç´ ã®æŒ¯ã‚‹èˆã„ã‚’æ‹¡å¼µã§ãã‚‹çŠ¶æ…‹ã®ã“ã¨

* **æ‹¡å¼µã«å¯¾ã—ã¦é–‹ã„ã¦ã„ã‚‹:** æ©Ÿèƒ½è¿½åŠ ãŒã—ã‚„ã™ã„ã“ã¨
* **ä¿®æ­£ã«å¯¾ã—ã¦é–‰ã˜ã¦ã„ã‚‹:** æ©Ÿèƒ½è¿½åŠ æ™‚ã«æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ›ãˆãŒä¸è¦ãªã“ã¨

### â†’ OCP = ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒæº€ãŸã™æ ¹æœ¬çš„ãªã‚´ãƒ¼ãƒ«

<!-- æ‹¡å¼µã¨ä¿®æ­£ã®è¨€è‘‰ã®è¨€è‘‰ã®æ„å‘³ã‚’æ•´ç†ã—ã¦ãŠãã€‚
1. æ‹¡å¼µ:
  * æ–°ã—ã„æ©Ÿèƒ½ã‚„æŒ¯ã‚‹èˆã„ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã€‚
  * æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã›ãšã«æ–°ã—ã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§è¡Œã‚ã‚Œã‚‹ã€‚
2. ä¿®æ­£:
  * æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ã€‚
  * ãƒã‚°ã®ä¿®æ­£ã‚„æ—¢å­˜ã®æ©Ÿèƒ½ã®å¤‰æ›´ãªã©ã€ã™ã§ã«å­˜åœ¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®å†…å®¹ã‚’ç›´æ¥å¤‰æ›´ã™ã‚‹è¡Œç‚ºã€‚

OCPã®ç›®çš„ã¯ã€æ–°ã—ã„æ©Ÿèƒ½ã‚„å¤‰æ›´ãŒå¿…è¦ãªã¨ãã€æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã®ã§ã¯ãªãã€æ–°ã—ã„ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§ãã®è¦ä»¶ã‚’æº€ãŸã™ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ãªè¨­è¨ˆã‚’å¿ƒãŒã‘ã‚‹ã“ã¨
https://zenn.dev/naas/scraps/41ed1c120aff53
-->

<!-- ã¡ã‚‡ã£ã¨ã—ãŸæ‹¡å¼µã®ãŸã‚ã«å¤§é‡ã®æ›¸ãæ›ãˆãŒå¿…è¦ã«ãªã‚‹ã‚ˆã†ãªã‚‰ã€ãã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯å¤§å¤±æ•—ã¸ã®é“ã‚’é€²ã‚“ã§ã„ã‚‹ã“ã¨ã«ãªã‚‹ -->

<!-- ã‚‚ã†ä¸€åº¦ç¹°ã‚Šè¿”ã—ã¦ãŠãã¨ã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰ãŒä¿®æ­£ä¸è¦ã§æ©Ÿèƒ½æ‹¡å¼µã§ãã‚‹ã“ã¨ãŒOCP -->

---

## OCPå®Ÿç¾ä¾‹

* ãƒ—ãƒªãƒ³ã‚¿/ã‚¹ã‚­ãƒ£ãƒŠãƒ‰ãƒ©ã‚¤ãƒã‚’OSã«è¿½åŠ ã™ã‚‹ä»•çµ„ã¿
* ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ©Ÿæ§‹
* ã‚²ãƒ¼ãƒ ã®MOD

ã©ã‚Œã‚‚æ—¢å­˜ã®å‡¦ç†ãƒ»ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãªãæ©Ÿèƒ½è¿½åŠ ã§ãã¦ã„ã‚‹

<!-- è€ƒãˆã¦ã¿ã‚‹ã¨ã™ã”ã„çŠ¶æ…‹ã€‚OS,ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢,ã‚²ãƒ¼ãƒ ã‚½ãƒ•ãƒˆæœ¬ä½“ã®ã‚³ãƒ¼ãƒ‰ã‚’ä¸€åˆ‡å¤‰æ›´ã—ã¦ã„ãªã„ã®ã«ã€ã“ã‚Œã¾ã§ã¨åŒã˜æ©Ÿèƒ½ãŒåŒã˜ã‚ˆã†ã«å‹•ä½œã—ã€æ–°ã—ã„æ©Ÿèƒ½ã‚‚å•é¡Œãªãå‹•ã„ã¦ã„ã‚‹ã€‚ã“ã‚ŒãŒOCPãŒå®Ÿç¾ã™ã‚‹ä¸–ç•Œã€‚ -->
<!-- è‡ªåˆ†ãŸã¡ã®ä½œã‚‹ã‚‚ã®ã‚‚ã“ã‚“ãªé¢¨ã«ã§ããŸã‚‰è‰¯ã„ã¨æ€ã„ã¾ã›ã‚“ã‹ï¼Ÿä»Šã¾ã§ä½œã£ãŸã‚‚ã®ã«æ‰‹ã‚’è§¦ã‚Œãšã«ã€å®‰å¿ƒã—ã¦æ–°ã—ã„æ©Ÿèƒ½ã‚’è¿½åŠ ã§ãã‚‹ã€‚
è‡ªåˆ†ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨€èªã˜ã‚ƒãªã„ã¨ã„ã£ã¦é–¢ä¿‚ãªã„ã‚ã‘ã§ã‚‚ãªã„ã€‚Cã§æ›¸ã‹ã‚ŒãŸLinuxã§ã‚‚åŒæ§˜ã«OSãƒ“ãƒ«ãƒ‰ä¸è¦ã§ãƒ‡ãƒã‚¤ã‚¹ãƒ‰ãƒ©ã‚¤ãƒã‚’è¿½åŠ ã§ãã‚‹ã—ã€‚
OSã¿ãŸã„ãªå¤§ããªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã ã‘ãŒãƒ¡ãƒªãƒƒãƒˆã‚’äº«å—ã™ã‚‹ã‚ã‘ã§ã¯ãªã„ã€‚AIã‚„æ•°ç†æœ€é©åŒ–ã®å‡¦ç†ã«ãŠã„ã¦ã‚‚ã€Œã“ã®éƒ¨åˆ†ã®ãƒ­ã‚¸ãƒƒã‚¯ã ã‘ã‚’åˆ¥ã®ã‚‚ã®ã«å–ã‚Šæ›¿ãˆã¦ã¿ãŸã„ã€ã¨ã„ã†è©¦è¡ŒéŒ¯èª¤ãŒç°¡å˜ã«ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚ -->
<!-- ã¡ã‚‡ã£ã¨OCPã«èˆˆå‘³ãŒæ¹§ã„ã¦ãã¾ã—ãŸã‚ˆã­ -->

<!-- ãŸã ã€OCPã¯SOLIDã®é †ç•ªã§ã“ãï¼’ç•ªã‚ã«å‡ºã¦ãã¦ã„ã‚‹ã‘ã‚Œã©ã€SOLIDå…¨èˆ¬ã§ç›®æŒ‡ã™ã‚´ãƒ¼ãƒ«ã®çŠ¶æ…‹ã§ã‚‚ã‚ã‚‹ã®ã§ã€å®Ÿç¾ã«å¿…è¦ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã«ã¯Oä»¥å¤–ã®å…¨éƒ¨(S/L/I/D)ã™ã¹ã¦ã®è€ƒãˆæ–¹ãŒå¿…è¦ã«ãªã‚‹ã€‚ãªã®ã§ä»Šæ—¥ã¯å…¨ä½“åƒã‚’æ´ã‚€ãŸã‚ã®èª¬æ˜ã¨ã€ãã®èª¬æ˜ç†è§£ã«å¿…è¦ãªæ¦‚å¿µã‚’ç´¹ä»‹ã—ã¾ã™ -->

---

## ã€ŒOCPã€ãŒæŒ‡ã™ã‚‚ã®ã¯ï¼’ç¨®é¡ã‚ã‚‹

æ­´å²çš„ã«ï¼’ã¤ã®æ„å‘³åˆã„ã‚’æŒã£ã¦ã„ã‚‹

1. 1988å¹´ã«ãƒãƒ¼ãƒˆãƒ©ãƒ³ãƒ‰ãƒ»ãƒ¡ã‚¤ãƒ¤ãƒ¼ãŒæå”±ã—ãŸOCP
2. 1996å¹´é ƒã«ãƒ­ãƒãƒ¼ãƒˆãƒ»Cãƒ»ãƒãƒ¼ãƒãƒ³(BobãŠã˜ã•ã‚“)ã‚‰ãŒæå”±ã—ãŸOCP

![bg opacity:0.3](assets/02-ocp-portrait_BertrandMeyer.jpg)
![bg opacity:0.3](assets/02-ocp-portrait_uncleBob.jpg)

>>> å†™çœŸ: https://en.wikipedia.org/wiki/Robert_C._Martin , https://en.wikipedia.org/wiki/Openâ€“closed_principle
<!-- OCPã«ã¯æ­´å²çš„ã«ï¼’ã¤ã‚ã‚‹ã®ã§ã€ãã‚Œã‚’ç´è§£ãã¤ã¤å…·ä½“ä¾‹ã‚’ç¤ºã—ã¦ã„ãã¾ã™ -->

---

## 1.ãƒãƒ¼ãƒˆãƒ©ãƒ³ãƒ‰ãƒ»ãƒ¡ã‚¤ãƒ¤ãƒ¼ç‰ˆOCP(åŸå§‹OCP)

OCPã®åŸç‚¹ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¯ãƒ©ã‚¹æ§‹é€ ã¨ã—ã¦æ‹¡å¼µæ€§ã‚’å–ã‚Šå…¥ã‚Œã‚‹ã“ã¨ãŒä¸»ç‚¹ã€‚

* **é–‹æ”¾ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**ï¼æ‹¡å¼µå¯èƒ½ãªã‚‚ã®
* **é–‰é–ã•ã‚ŒãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**ï¼å†…éƒ¨ã®å®Ÿè£…ã‚’æ„è­˜ã›ãšä»•æ§˜ã«å¾“ã„å®‰å®šã—ã¦ä½¿ãˆã‚‹

â†’ è¦ã¯ **ã€Œã‚¯ãƒ©ã‚¹ã‚„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã‚’å®Ÿç¾ã—ã¾ã—ã‚‡ã†ã€** ã¨ã„ã†ã“ã¨

![center w:500pt](assets/02-ocp_mayer.png)

>>> 1988å¹´ã®ãƒãƒ¼ãƒˆãƒ©ãƒ³ãƒ‰ãƒ»ãƒ¡ã‚¤ãƒ¤ãƒ¼è‘—æ›¸ã€Object Oriented Software Constructionã€ã§æå”±

<!-- è¦ªã‚¯ãƒ©ã‚¹ã§å®‰å®šã—ãŸä»•æ§˜ã‚’ã—ã£ã‹ã‚Šå®šç¾©ã—ã¦ãŠãã€ãã‚Œã‚’ç¶™æ‰¿ã™ã‚‹å„ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§å®Ÿè£…ã®ä¿®æ­£ã¾ãŸã¯æ‹¡å¼µã‚’è¡Œãªã£ã¦ã„ãã“ã¨ã§ã€å…·ä½“çš„ãªå‡¦ç†ã¯ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§å®Ÿè£…ã™ã‚Œã°ã€ä½¿ç”¨è€…ã«ã¨ã£ã¦ã¯è¦ªã‚¯ãƒ©ã‚¹ã‚’ä½¿ã£ã¦ã„ã‚‹ã¤ã‚‚ã‚Šã§å‡¦ç†ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ä½¿ç”¨è€…ã¯å®Ÿä½“ã«ã¤ã‚‰ã‚Œã¦ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ãªãã¦ã‚‚è‰¯ã„ -->
<!--
 ã¤ã¾ã‚Šãƒ¡ã‚¤ãƒ¤ãƒ¼ã®åŸå‰‡ã§ã¯ã€å…·è±¡ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆã‚·ã‚°ãƒãƒãƒ£ï¼‹ã‚³ãƒ¼ãƒ‰ï¼‰ã®å®Ÿè£…ç¶™æ‰¿ï¼ˆimplementation inheritanceï¼‰ã¨ã€ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ å®šç¾©ã—ã¦ã„ãæ·±ã„ç¶™æ‰¿ãŒåŸºæœ¬ã«ãªã‚‹ã€‚
 è¦ªã‚¯ãƒ©ã‚¹ã¯å˜ãªã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’å®šç¾©ã™ã‚‹ã ã‘ã§ãªãå®Ÿéš›ã®å‡¦ç†ã‚’æŒã£ã¦ã„ã¦ã‚‚è‰¯ãã€ã¾ãŸå­ã ã‘ã§ãªãå­«ã‚¯ãƒ©ã‚¹ã‚„æ›¾å­«ã‚¯ãƒ©ã‚¹ã«ãªã‚‹ã“ã¨ã‚’æƒ³å®šã—ã¦ã„ã‚‹ -->

---

## 2.ãƒ­ãƒãƒ¼ãƒˆãƒ»Cãƒ»ãƒãƒ¼ãƒãƒ³ç‰ˆOCP(æ–°OCP)

ãƒ¡ã‚¤ãƒ¤ãƒ¼ã®OCPã‚’ã‚ˆã‚Šé«˜ã„è¦–ç‚¹ã§é©ç”¨ã€‚ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œæ™‚ã«å·®ã—æ›¿ãˆã‚‹ã“ã¨ã‚’æƒ³å®š$^1$

* ãƒ—ãƒªãƒ³ã‚¿/ã‚¹ã‚­ãƒ£ãƒŠãƒ‰ãƒ©ã‚¤ãƒã‚’OSã«è¿½åŠ ã™ã‚‹ä»•çµ„ã¿
* ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ©Ÿæ§‹
* ã‚²ãƒ¼ãƒ ã®MOD

ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ä»•æ§˜ã«å¾“ã£ãŸã‚‚ã®ã‚’ä½œã‚Œã° **ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®å†ãƒ“ãƒ«ãƒ‰ã™ã‚‰ä¸è¦**

![center w:500pt](assets/02-ocp_unclebob.png)

>>> 1996å¹´ã®è«–æ–‡[ã€The Open-Closed Principleã€](https://docs.google.com/a/cleancoder.com/viewer?a=v&pid=explorer&chrome=true&srcid=0BwhCYaYDn8EgN2M5MTkwM2EtNWFkZC00ZTI3LWFjZTUtNTFhZGZiYmUzODc1&hl=en)ã§æå”±

<!-- ã‚¯ãƒ©ã‚¹æ§‹é€ ã®è¦–ç‚¹ã§ã„ã†ã¨ã€ãƒãƒ¼ãƒãƒ³ã®åŸå‰‡ã§ã¯ã€å®Ÿè£…ã‚’æŒãŸãªã„æŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ã ã‘å®šç¾©ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã€ãã‚Œã‚’ç•Œé¢ç¶™æ‰¿ï¼ˆinterface inheritanceï¼‰ãŒåŸºæœ¬ã«ãªã‚‹ã€‚ç¶™æ‰¿é–¢ä¿‚ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã®ã¿ã«ç•™ã‚ã¦ã€å®Ÿè£…ã®ç¶™æ‰¿ã¯æŠ‘ãˆã‚‹ã“ã¨ãŒãƒ¡ã‚¤ãƒ¤ãƒ¼ç‰ˆã¨ã®é•ã„ã€‚ -->

<!-- ä¸€èˆ¬çš„ã«OCPã§ã‚°ã‚°ã‚‹ã¨å‡ºã¦ãã‚‹ã®ã¯ã€ãƒ¡ã‚¤ãƒ¤ãƒ¼ã®ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ™ãƒ«ã§ã®è©±ã‚’ã—ã¦ã„ã‚‹ã‚‚ã®ãŒå¤šã„ã€‚ãŸã ã—æœ€è¿‘ã¯è¦ªã‚¯ãƒ©ã‚¹ã¨ã„ã£ã¦ã‚‚å®Ÿè£…ã‚’æŒãŸãªã„ã‚¹ã‚¿ã‚¤ãƒ«ãŒä¸»æµã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ãã®ç‚¹ã§ã¯ãƒœãƒ–ãŠã˜ã•ã‚“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ã¿ç”¨æ„ã—ã¦ãã‚Œã‚’ç¶™æ‰¿ã™ã‚‹ã¨ã„ã†å†…å®¹ã«è¿‘ã„ -->

<!-- ã¡ãªã¿ã«æ˜”ã¯ãŸãã•ã‚“ã‚ã£ãŸTwitterã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚‚åºƒç¾©ã®ãƒœãƒ–ãŠã˜ã•ã‚“ç‰ˆOCPã®é©ç”¨ä¾‹ã¨è¨€ãˆã‚‹ã€‚ã©ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‚‚Twitterã®APIã¨ã„ã†ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’å®ˆã£ã¦ã„ã‚Œã°åŒã˜ã‚ˆã†ã«ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚’è¦‹ãŸã‚ŠæŠ•ç¨¿ã§ããŸã€‚ã“ã®ã¨ãã«Twitterã‚µãƒ¼ãƒ“ã‚¹ãã®ã‚‚ã®ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ã¯ãªã„ã€‚ -->

---

## ä¾‹: å°åˆ·æ™‚ã«PDFã‚‚ä½œã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹

ä¸‹ã®ã‚¯ãƒ©ã‚¹ã‚’ã€Œå‡ºåŠ›å…ˆã‚’PDFã«ã‚‚ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã»ã—ã„ã€ã¨è¨€ã‚ã‚ŒãŸã¨ã™ã‚‹

```cs
// ã‚ã‚‹å†…å®¹ã‚’ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã«å‡ºåŠ›ã™ã‚‹å‡¦ç†
class PrinterPresenter {
    public void print(String contents);
}
 
var presenter = new PrinterPresenter();
presenter.print(contents);
```

---

## ã ã‚ãªè¿½åŠ æ–¹æ³•
 
```cs
class PDFPresenter {
    public void createPDFFile(String contents);
}
```
â†“
<!-- âŒ ãƒ¡ã‚½ãƒƒãƒ‰åãŒãƒ¤ãƒã„ã€‚PrinterPresenterã¨ã¯é–¢ä¿‚ãªãã¦ãƒ¤ãƒã„ -->

```cs
// âŒ ä½¿ã†å´ã§å‡¦ç†ã®æ›¸ãæ›ãˆãŒå¿…è¦
if (target == OutputType::Printer) { // ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã§å°åˆ·ã™ã‚‹ã¨ã
    var presenter = new PrinterPresenter();
    presenter.print(contents);
} else { // ãã‚Œä»¥å¤–
    var presenter = new PDFPresenter();
    presenter.createPDFFile(contents);
}
```
<!-- ã‚‚ã—ã‹ã™ã‚‹ã¨æ¬¡ã¯ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤ã«è¡¨ç¤ºã™ã‚‹ã“ã¨ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€‚ãã®ã¨ãã«ifæ–‡ã‚’è¿½åŠ ã™ã‚‹ï¼Ÿ -->

---

## è§£æ±ºç­–
 
GoFã®**Template Methodãƒ‘ã‚¿ãƒ¼ãƒ³**ã‚„**Strategyãƒ‘ã‚¿ãƒ¼ãƒ³**ãªã©ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«å¯¾ã™ã‚‹å®Ÿè£…ãŒã§ãã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†$^1$
 
```cs
interface IOutputtable {
    public void output(String contents);
}

// ã©ã¡ã‚‰ã‚‚IOutputtableã‚’ç¶™æ‰¿ã™ã‚‹
class PrinterPresenter: IOutputtable {
    public void output(String contents) { â€¦ }
}
class PDFPresenter: IOutputtable {
    public void output(String contents) { â€¦ }
}
```

>>> 1: Template Method Patternã‚’ä½¿ã†ã®ãŒMayerç‰ˆOCPã€Strategy PatternãŒUncle Bobç‰ˆOCP

---

## è§£æ±ºç­–ã‚’ä½¿ã£ãŸã¨ãã®ä½¿ç”¨ä¾‹
 
```cs
IOutputtable outuputPort = ã€œ
outputPort.output(contents);
```
 
* ä¿®æ­£ã™ã‚‹ã¨ãã¯`IOutputtable`ã‚’ç¶™æ‰¿ã—ãŸã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã ã‘(ï¼é–‰ã˜ã¦ã„ã‚‹)
* æ‹¡å¼µã—ã¦ã‚‚ä½¿ã†å´ã®å¤‰æ›´ã¯ä¸è¦(=é–‹ã„ã¦ã„ã‚‹)
 
â†’ **OCPã®ç§©åºãŒå®ˆã‚‰ã‚ŒãŸçŠ¶æ…‹ã«**
 
<!-- ã¡ãªã¿ã«ä¸Šã®ã‚³ãƒ¼ãƒ‰ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ˆã‚ŠæŠ½è±¡çš„ãª`output()`ã«ã—ã¦ã„ã‚‹ã®ã‚‚ãƒã‚¤ãƒ³ãƒˆ -->

<!-- Cè¨€èªã¿ãŸã„ã«è¨€èªã§OOPãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œãªã„ã‚‚ã®ã§ã‚‚ã€ãƒ˜ãƒƒãƒ€ãƒ•ã‚¡ã‚¤ãƒ«ã«å¯¾å¿œã™ã‚‹.cãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã™ã‚‹ã“ã¨ã§ãƒ“ãƒ«ãƒ‰æ™‚ã«å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹ã€‚C/C++ã®ãƒ†ã‚¹ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã‚“ã‹ã¯ã“ã®æ–¹æ³•ã§main()é–¢æ•°ã‚’å·®ã—æ›¿ãˆã¦ã„ã‚‹ã€‚
ã¾ãŸå®Ÿè¡Œæ™‚ã®ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã«ãŠã„ã¦ã‚‚é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ãªã©ã‚’ä¿æŒã§ãã‚‹æ§‹é€ ä½“ã¨åŒã˜ãƒ¡ãƒ¢ãƒªã‚¢ãƒ©ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã‚’æŒã¤æ§‹é€ ä½“ã‚’ä½œã£ã¦ã€ãã®ãƒã‚¤ãƒ³ã‚¿ã‚’ä¿æŒã™ã‚‹ã¨ã„ã†æ–¹æ³•ã§å®Ÿç¾ã§ãã‚‹ã€‚å‚è€ƒã¾ã§ã«ã€‚ -->

---

## OCPã¯ã©ã†ä½¿ã†ï¼Ÿ
 
* **è¨­è¨ˆæ™‚**ï¼šå¤‰å‹•éƒ¨ã¨å›ºå®šéƒ¨ã®è¦‹æ¥µã‚ãƒ»åˆ†é›¢
* **é•åã®è‡­ã„**ï¼šæ©Ÿèƒ½ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å¢—ã‚„ã™ã¨ãã«ä½¿ã†å´ã§ã‚‚ä¿®æ­£ã—ã¦ã„ã‚‹
* **æ¶ˆè‡­æ–¹æ³•**ï¼šTemplate Method, Strategy, Factoryãªã©ãªã©ã‚’è€ƒãˆã‚‹
 
ã€Œä¸å¿…è¦ãªè¤‡é›‘ã•ï¼ˆï¼è¨­è¨ˆéå‰°ï¼‰ã€ã«æ³¨æ„

---

## é–¢é€£åŸå‰‡

[ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ ¹åº•æŠ€æ³•3ã€Œæƒ…å ±éš è”½ã€](01-basics/13-encapsulation_infohiding_pkg.md)ã§ç´¹ä»‹ã—ãŸãƒ‘ãƒ«ãƒŠã‚¹ã®è¦å‰‡ã‚‚åŒã˜$^1$

> * ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆ©ç”¨è€…ã«ã¯ã€ãã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã™ã¹ã¦ã®æƒ…å ±ã‚’ä¸ãˆã€ãã‚Œä»¥å¤–ã®æƒ…å ±ã¯ã„ã£ã•ã„è¦‹ã›ãªã„ã“ã¨
> * ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½œæˆè€…ã«ã¯ã€ãã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã™ã¹ã¦ã®æƒ…å ±ã‚’ä¸ãˆã€ãã‚Œä»¥å¤–ã®æƒ…å ±ã¯ã„ã£ã•ã„è¦‹ã›ãªã„ã“ã¨

>>> 1:ã¨ã„ã†ã‹ã€ãƒœãƒ–ãŠã˜ã•ã‚“ãŒnew OCPã‚’æå”±ã™ã‚‹éš›ã«ãƒ‘ãƒ«ãƒŠã‚¹ã®è¦å‰‡ã¨é–¢é€£ä»˜ã‘ã¦ã„ã‚‹

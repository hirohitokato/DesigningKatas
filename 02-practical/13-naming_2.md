---
marp: true
math: mathjax
theme: katas
---
<!-- 
size: 16:9
paginate: true
-->
<!-- header: 勉強会# ― エンジニアとしての解像度を高めるための勉強会-->

# 読みやすいコードの作り方 - 命名(2)

_Code Readability_

---

## タネ本

### 『読みやすいコードのガイドライン<br>　 持続可能なソフトウェア開発のために』
* 石川宗寿(著)
* 技術評論社 2022/11/4初版

![bg right:30% 90%](assets/12-book.jpg)

---

## 名前の示す内容

* 命名の対象が「何であるか・何をするか」を表現すること
* 「いつ・どこで・どのように使われるか」を言及しないこと

**対象の責任範囲と、対象を使っているコードが何をしているか**を明確にする

---

## 適切/不適切の例

適切な名前：何であるか・何をするかを表している

> `MessageListProvider`： メッセージのリストを提供するクラス
> `userId`： ユーザーの識別子
> `showErrorDialog`： エラーダイアログを表示する関数

不適切な名前：いつ・どこで・どのように使われるかを表している

> `onMessageReceived`： メッセージを受け取ったときに呼ばれる関数
> `isCalledFromEditScreen`： 編集画面から呼ばれたときに真になる値
> `idForNetworkQuery`： クエリーに使用される識別子<br>（ユーザーの識別子かもしれないし、クエリーの識別子かもしれない）

---

## 例1: 引数の名前

> 関数`showUserList`を定義する。リスト取得に失敗した際、起動直後の画面から呼び出した場合だとエラーダイアログを表示し、それ以外だと何もしない。

｜　
｜ 「どういう時に何をするか」に注目して仮引数を命名する <!-- 失敗時にダイアログを表示する、が正しい。起動直後の画面から呼び出した場合に、ではない -->
↓

```cpp
// ◯「何をするか」を示す仮引数
void showUserList(bool shouldShowDialogOnError) { … }

// ✕ 「誰に呼ばれたか」を示す仮引数
void showUserList(bool isCalledFromLandingScreen) { … }
```

---

## 例2: 関数の名前

> メッセージを受け取ったときに、その内容を画面に表示する関数を定義する

｜　
｜ 「何をするか」に注目して命名する <!-- 失敗時にダイアログを表示する、が正しい。起動直後の画面から呼び出した場合に、ではない -->
↓

```cpp
// ◯「何をするか」を示す関数名
void showReceivedMessage(MessageModel model) { … }

// ✕ 「いつ呼ばれるか」を示す関数名
void onReceivedMessage(MessageModel model) { … }
```

>>> ※ただし抽象メソッドとして定義する場合などは`onReceived～`も可。サブクラスでどう使われるか定義時点では分からないため。`

---

## 今回のまとめ

* 命名の対象が「何であるか・何をするか」を表現すること
* 「いつ・どこで・どのように使われるか」を言及しないこと

**対象の責任範囲と、対象を使っているコードが何をしているか**を明確にする

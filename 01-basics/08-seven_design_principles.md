---
marp: true
theme: katas
---
<!--
size: 16:9
paginate: true
-->
<!-- header: 勉強会#-->
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true });
</script>

# ７つの設計原理

_Seven design principles_

---

## ７つの設計原理

コードレビューにおける観点をまとめたもの

1. **単純原理**：単純に素人っぽくプログラミングする
2. **同型原理**：形にこだわるという原理。例外なく同じことは同じようにやる
3. **対称原理**：上があれば下、右があれば左、アクティブがあればインアクティブという対称性にこだわる
4. **階層原理**：形の階層的な美しさにこだわる
5. **線形原理**：機能はいくつの昨日の重ね合わせにより実現される
6. **明証原理**：少しでも不透明なロジックは証明しておくように努める
7. **安全原理**：必然性のないところやあいまいなところは、ちょっとルーズに安全サイドで設計しておく

---

![bg right 70%](https://m.media-amazon.com/images/I/61r-UesONtL._SL1014_.jpg)

## 1989年の本に登場

* 『富士通におけるソフトウェア品質保証の実際』
    * ウォーターフォール開発が全盛の時代に書かれた
    * システムエンジニアリングの実務者向けの実践的ノウハウ書

**「エラーを作り込まないための７つの設計原理」**

---

![bg right 70%](https://www.boredpanda.com/blog/wp-content/uploads/2022/03/6228a5315ada3_2sa89yiemgi81__700.jpg)
## 1.単純原理

「シンプルにこだわる」$^1$

* 初心者でも読めるよう単純なコードを書く

複雑なところにバグは出るので、ついつい高度なコードを書きたくなる誘惑に打ち勝つことが大事

>>> [KISSの回](03-kiss.md)を参照

---

## 2.同型原理

形にこだわるという原理。同じことは例外なく同じようにやること。

* コーディングガイドライン
* 公開関数の引数の並べ方
* UIのグリッドパターン
* ドキュメントの構成 … etc.

**→ 異物(不具合,仕様外動作)が見つけやすくなる**

独創性よりも一貫性$^1$

>>> 多方面にすみません

---

## 3. **対称原理**

上があれば下、右があれば左、アクティブがあればインアクティブというような対称性にこだわる。

* 条件と反条件、正常系と異常系
* 命名の対称性も同様（set/get,start/stop,begin/end,push/pop）

→ **プログラム・ドキュメントを機械的に書ける**
→ 考慮漏れやケアレスミスを防ぐ


『ひなた先生が教えるデバッグが256倍速くなるテクニック』という本(良書!)でも、この対称性を強く説いている

---

## 4. **階層原理**

構造が階層的であることにこだわるという原理$^1$。

* 前後関係、主従関係、本末関係、兄弟関係
    * 階層ごとに処理を決め、同じ種類の処理が異なる階層を跨らないようにする
    * 確保したリソースは同じ階層で解放する
    * 相互依存をなくすためにDIPを使う

>>> [SLAPの回](06-slap.md)を参照

---

## 5. **線形原理**：形は直線だけによって描かれており、さらに矩形であるのがよいとする原理。

---

## 6. **明証原理**：少しでも不透明なロジックは証明しておくように努めること。

---

## 7. **安全原理**：必然性のないところやあいまいなところは、ちょっとルーズに安全サイドで設計しておくこと。
